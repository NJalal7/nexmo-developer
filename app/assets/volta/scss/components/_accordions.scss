//
// Copyright (c) 2018-present, Vonage. All rights reserved.
//

.Vlt-accordion__content,
.Vlt-js-accordion__content {
	height: 0;
	overflow: hidden;
	transition: height 0.5s;

	&_open {
		height: auto;
		overflow: visible;
	}
}

.Vlt-js-accordion__trigger {
	cursor: pointer;
}

.Vlt-accordion {

	&__trigger {
		@extend .reset-button;
		cursor: pointer;
		display: flex;
		justify-content: space-between;
		margin-bottom: 0 !important; // useful for accordions-titles
		padding: $unit1 0;
		text-align: left;
		transition: margin 0.2s;
		width: 100%;

		span {
			flex: 1;
		}

		&:after {
			$fill-color: encode-hex-code($grey-darker);
			background-image: url('data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2020%2020%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cpath%20style%3D%22fill%3A#{$fill-color}%3B%22%20d%3D%22M3.38326%207.96544C3.58628%207.68629%203.97717%207.62457%204.25632%207.82759L9.99983%2012.0047L15.7433%207.82759C16.0225%207.62457%2016.4134%207.68629%2016.6164%207.96544C16.8194%208.2446%2016.7577%208.63549%2016.4785%208.83851L10.3674%2013.283C10.1483%2013.4423%209.85138%2013.4423%209.63222%2013.283L3.52111%208.83851C3.24195%208.63549%203.18023%208.2446%203.38326%207.96544Z%22%2F%3E%0A%3C%2Fsvg%3E');
			background-position: center center;
			background-repeat: no-repeat;
			background-size: contain;
			content: '';
			display: block;
			flex: 0 0 20px;
			height: 20px;
			margin-top: $unit0;
			transition: transform 0.2s;
			width: 20px;
		}

		&_active {
			&:after {
				transform: rotate(180deg);
			}
		}

		&--noborder {
			& + .Vlt-accordion__content {
				border-bottom: 0; // Supporting legacy
			}
		}
	}

	&__content {
		border-bottom: 1px solid rgba($black, 0.1);

		&_open {
			padding-bottom: $unit1;
		}

		&--noborder {
			border: 0;
		}
	}

	&--large {
		.Vlt-accordion__trigger {
			padding: $unit2 0;

			&_active {
				padding-bottom: $unit1;
			}
		}

		.Vlt-accordion__content {
			&_open {
				padding-bottom: $unit2;
			}
		}
	}

	&--larger {
		.Vlt-accordion__trigger {
			padding: $unit3 0;

			&:after {
				flex: 0 0 30px;
				height: 30px;
				width: 30px;
			}

			&_active {
				padding-bottom: $unit1;
			}
		}

		.Vlt-accordion__content {
			&_open {
				padding-bottom: $unit3;
			}
		}
	}
}
